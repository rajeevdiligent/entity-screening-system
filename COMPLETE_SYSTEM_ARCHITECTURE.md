# ­ЪЈЌ№ИЈ Entity Screening System - Complete Architecture Flow

## ­Ъј» 100% Functional System Architecture

```
РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
Рћѓ                           ­Ъїљ CLIENT REQUEST FLOW                                        Рћѓ
РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

    ­ЪЊ▒ Client Application
         Рћѓ
         Рћѓ POST /prod/search          Рћѓ POST /prod/GDCsearch
         Рћѓ {                          Рћѓ {
         Рћѓ   "query": "Wells Fargo    Рћѓ   "query": "Wells Fargo fraud",
         Рћѓ            fraud",         Рћѓ   "index": "gdc-entities",
         Рћѓ   "num_results": 3,        Рћѓ   "size": 10,
         Рћѓ   "enable_llm_processing": Рћѓ   "enable_llm_processing": true
         Рћѓ            true            Рћѓ }
         Рћѓ }                          Рћѓ
         Рќ╝                            Рќ╝
    РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
    Рћѓ         ­Ъџф API Gateway (REST API)        Рћѓ РЌёРћђРћђРћђ HTTPS/TLS Encryption
    Рћѓ                                         Рћѓ      Security Headers
    Рћѓ  /prod/search     Рћѓ  /prod/GDCsearch    Рћѓ      Rate Limiting
    Рћѓ  (Serper API)     Рћѓ  (OpenSearch)       Рћѓ      CORS Configuration
    РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў
         Рћѓ                            Рћѓ
         Рћѓ Lambda Proxy Integration   Рћѓ Lambda Proxy Integration
         Рћѓ event['body'] = JSON       Рћѓ event['body'] = JSON
         Рќ╝                            Рќ╝

РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
Рћѓ                        ­ЪћЇ DUAL SEARCH SERVICE LAYER                                     Рћѓ
РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

    РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ              РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
    Рћѓ  ­ЪћЇ Serper Search   Рћѓ              Рћѓ  ­ЪћЇ GDC Search      Рћѓ
    Рћѓ    Service Lambda   Рћѓ              Рћѓ    Service Lambda   Рћѓ
    Рћѓ                     Рћѓ              Рћѓ                     Рћѓ
    Рћѓ entity-search-      Рћѓ              Рћѓ entity-gdc-search-  Рћѓ
    Рћѓ service             Рћѓ              Рћѓ service             Рћѓ
    Рћѓ                     Рћѓ              Рћѓ                     Рћѓ
    Рћѓ Runtime: Python 3.11Рћѓ              Рћѓ Runtime: Python 3.11Рћѓ
    Рћѓ Memory: 256MB       Рћѓ              Рћѓ Memory: 512MB       Рћѓ
    Рћѓ Timeout: 30s        Рћѓ              Рћѓ Timeout: 60s        Рћѓ
    Рћѓ                     Рћѓ              Рћѓ                     Рћѓ
    Рћѓ РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ Рћѓ              Рћѓ РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ Рћѓ
    Рћѓ Рћѓ Input Validator Рћѓ Рћѓ РЌёРћђРћђРћђ Query   Рћѓ Рћѓ Input Validator Рћѓ Рћѓ РЌёРћђРћђРћђ Query
    Рћѓ РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў Рћѓ      SecurityРћѓ РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў Рћѓ      Security
    Рћѓ РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ Рћѓ      Checks  Рћѓ РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ Рћѓ      Checks
    Рћѓ РћѓSecurity Manager Рћѓ Рћѓ              Рћѓ РћѓSecurity Manager Рћѓ Рћѓ
    Рћѓ РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў Рћѓ              Рћѓ РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў Рћѓ
    Рћѓ РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ Рћѓ              Рћѓ РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ Рћѓ
    Рћѓ Рћѓ Serper API Call Рћѓ Рћѓ РЌёРћђРћђРћђ Google  Рћѓ РћѓOpenSearch ClientРћѓ Рћѓ РЌёРћђРћђРћђ GDC
    Рћѓ Рћѓ (External)      Рћѓ Рћѓ      Search  Рћѓ Рћѓ (AWS Service)   Рћѓ Рћѓ      Index
    Рћѓ РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў Рћѓ              Рћѓ РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў Рћѓ
    РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў              РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў
         Рћѓ                                        Рћѓ
         Рћѓ Serper Results                         Рћѓ OpenSearch Results
         Рќ╝                                        Рќ╝
         Рћѓ                                        Рћѓ
         Рћѓ Both services store results & trigger LLM processing
         Рќ╝                                        Рќ╝
    РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ    РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
    Рћѓ  ­ЪњЙ DynamoDB        Рћѓ    Рћѓ  ­ЪЊб SNS Topic       Рћѓ
    Рћѓ  Storage            Рћѓ    Рћѓ  (LLM Processing)   Рћѓ
    Рћѓ                     Рћѓ    Рћѓ                     Рћѓ
    Рћѓ search-analysis-    Рћѓ    Рћѓ llm-processing-     Рћѓ
    Рћѓ results table       Рћѓ    Рћѓ requests            Рћѓ
    Рћѓ                     Рћѓ    Рћѓ                     Рћѓ
    Рћѓ РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ Рћѓ    РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў
    Рћѓ Рћѓ Search Results  Рћѓ Рћѓ              Рћѓ
    Рћѓ Рћѓ - query         Рћѓ Рћѓ              Рћѓ Async Trigger
    Рћѓ Рћѓ - results[]     Рћѓ Рћѓ              Рќ╝
    Рћѓ Рћѓ - timestamp     Рћѓ Рћѓ    РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
    Рћѓ Рћѓ - query_hash    Рћѓ Рћѓ    Рћѓ  ­ЪДа LLM Service     Рћѓ
    Рћѓ РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў Рћѓ    Рћѓ    Lambda Function  Рћѓ
    РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў    Рћѓ                     Рћѓ
         Рћѓ                     Рћѓ  Runtime: Python 3.11
         Рћѓ Immediate Response  Рћѓ  Memory: 512MB
         Рќ╝                     Рћѓ  Timeout: 300s
    РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ    Рћѓ                     Рћѓ
    Рћѓ  ­ЪЊц API Response    Рћѓ    Рћѓ РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ Рћѓ
    Рћѓ                     Рћѓ    Рћѓ Рћѓ Amazon Nova LLM Рћѓ Рћѓ РЌёРћђРћђРћђ Bedrock Integration
    Рћѓ {                   Рћѓ    Рћѓ Рћѓ Risk Analysis   Рћѓ Рћѓ      amazon.nova-micro-v1:0
    Рћѓ   "query": "...",   Рћѓ    Рћѓ РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў Рћѓ      Comprehensive risk scoring
    Рћѓ   "results": [...], Рћѓ    Рћѓ РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ Рћѓ
    Рћѓ   "total_count": 3, Рћѓ    Рћѓ Рћѓ Risk Calculator Рћѓ Рћѓ РЌёРћђРћђРћђ Multi-dimensional scoring
    Рћѓ   "llm_processing_  Рћѓ    Рћѓ Рћѓ FloatРєњDecimal   Рћѓ Рћѓ      Financial, Corruption,
    Рћѓ   triggered": true, Рћѓ    Рћѓ РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў Рћѓ      Regulatory, Reputational
    Рћѓ   "stored_in_       Рћѓ    РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў
    Рћѓ   database": true   Рћѓ              Рћѓ
    Рћѓ }                   Рћѓ              Рћѓ Risk Analysis Results
    РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў              Рќ╝
                                РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
                                Рћѓ  ­ЪњЙ DynamoDB        Рћѓ
                                Рћѓ  Risk Storage       Рћѓ
                                Рћѓ                     Рћѓ
                                Рћѓ РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ Рћѓ
                                Рћѓ Рћѓ LLM Analysis    Рћѓ Рћѓ
                                Рћѓ Рћѓ - overall_risk  Рћѓ Рћѓ
                                Рћѓ Рћѓ - risk_level    Рћѓ Рћѓ
                                Рћѓ Рћѓ - financial_    Рћѓ Рћѓ
                                Рћѓ Рћѓ   crimes_risk   Рћѓ Рћѓ
                                Рћѓ Рћѓ - corruption_   Рћѓ Рћѓ
                                Рћѓ Рћѓ   risk          Рћѓ Рћѓ
                                Рћѓ Рћѓ - regulatory_   Рћѓ Рћѓ
                                Рћѓ Рћѓ   risk          Рћѓ Рћѓ
                                Рћѓ Рћѓ - reputational_ Рћѓ Рћѓ
                                Рћѓ Рћѓ   risk          Рћѓ Рћѓ
                                Рћѓ Рћѓ - key_findings  Рћѓ Рћѓ
                                Рћѓ Рћѓ - confidence    Рћѓ Рћѓ
                                Рћѓ РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў Рћѓ
                                РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
Рћѓ                        ­Ъћљ SECURITY & MONITORING LAYER                                   Рћѓ
РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

    РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ    РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ    РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
    Рћѓ  ­Ъћљ AWS Secrets     Рћѓ    Рћѓ  ­ЪЊі CloudWatch      Рћѓ    Рћѓ  ­ЪЏА№ИЈ Security        Рћѓ
    Рћѓ     Manager         Рћѓ    Рћѓ     Monitoring      Рћѓ    Рћѓ    Features         Рћѓ
    Рћѓ                     Рћѓ    Рћѓ                     Рћѓ    Рћѓ                     Рћѓ
    Рћѓ entity-screening/   Рћѓ    Рћѓ РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ Рћѓ    Рћѓ РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ Рћѓ
    Рћѓ serper-api-key      Рћѓ    Рћѓ Рћѓ Lambda Metrics  Рћѓ Рћѓ    Рћѓ Рћѓ Input ValidationРћѓ Рћѓ
    Рћѓ                     Рћѓ    Рћѓ Рћѓ - Duration      Рћѓ Рћѓ    Рћѓ Рћѓ XSS Protection  Рћѓ Рћѓ
    Рћѓ Encrypted storage   Рћѓ    Рћѓ Рћѓ - Memory Usage  Рћѓ Рћѓ    Рћѓ Рћѓ CORS Headers    Рћѓ Рћѓ
    Рћѓ IAM role access     Рћѓ    Рћѓ Рћѓ - Error Rates   Рћѓ Рћѓ    Рћѓ Рћѓ Rate Limiting   Рћѓ Рћѓ
    РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў    Рћѓ РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў Рћѓ    Рћѓ РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў Рћѓ
                               Рћѓ РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ Рћѓ    Рћѓ РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ Рћѓ
                               Рћѓ Рћѓ API Gateway     Рћѓ Рћѓ    Рћѓ Рћѓ Secure Response Рћѓ Рћѓ
                               Рћѓ Рћѓ - Request Count Рћѓ Рћѓ    Рћѓ Рћѓ Error Handling  Рћѓ Рћѓ
                               Рћѓ Рћѓ - Latency       Рћѓ Рћѓ    Рћѓ Рћѓ No Data Leakage Рћѓ Рћѓ
                               Рћѓ Рћѓ - 4xx/5xx ErrorsРћѓ Рћѓ    Рћѓ РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў Рћѓ
                               Рћѓ РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў Рћѓ    РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў
                               РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
Рћѓ                        ­ЪїЇ EXTERNAL INTEGRATIONS                                         Рћѓ
РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

    РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ    РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ    РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
    Рћѓ  ­ЪћЇ Serper API      Рћѓ    Рћѓ  ­ЪћЇ AWS OpenSearch  Рћѓ    Рћѓ  ­ЪДа Amazon Bedrock  Рћѓ
    Рћѓ  (Google Search)    Рћѓ    Рћѓ  (GDC Index)        Рћѓ    Рћѓ  (Nova LLM)         Рћѓ
    Рћѓ                     Рћѓ    Рћѓ                     Рћѓ    Рћѓ                     Рћѓ
    Рћѓ https://google.     Рћѓ    Рћѓ GDC Entity Index    Рћѓ    Рћѓ amazon.nova-micro-  Рћѓ
    Рћѓ serper.dev/search   Рћѓ    Рћѓ Elasticsearch API   Рћѓ    Рћѓ v1:0                Рћѓ
    Рћѓ                     Рћѓ    Рћѓ                     Рћѓ    Рћѓ                     Рћѓ
    Рћѓ Real-time search    Рћѓ    Рћѓ Structured search   Рћѓ    Рћѓ Risk analysis       Рћѓ
    Рћѓ 3 results per query Рћѓ    Рћѓ Entity matching     Рћѓ    Рћѓ JSON response       Рћѓ
    Рћѓ Snippet extraction  Рћѓ    Рћѓ Relevance scoring   Рћѓ    Рћѓ Multi-dimensional   Рћѓ
    Рћѓ Web content         Рћѓ    Рћѓ Faceted search      Рћѓ    Рћѓ scoring             Рћѓ
    РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў    Рћѓ Full-text queries   Рћѓ    РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў
                               РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў
    
    РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
    Рћѓ  ­ЪњЙ AWS DynamoDB    Рћѓ
    Рћѓ  (Data Storage)     Рћѓ
    Рћѓ                     Рћѓ
    Рћѓ search-analysis-    Рћѓ
    Рћѓ results             Рћѓ
    Рћѓ                     Рћѓ
    Рћѓ NoSQL database      Рћѓ
    Рћѓ Auto-scaling        Рћѓ
    Рћѓ TTL: 30 days        Рћѓ
    Рћѓ FloatРєњDecimal       Рћѓ
    Рћѓ conversion          Рћѓ
    РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
Рћѓ                        ­ЪЊі DATA FLOW SUMMARY                                             Рћѓ
РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

1. ­ЪЊ▒ Client Рєњ ­Ъџф API Gateway Рєњ ­ЪћЇ Dual Search Services
   РћюРћђ /prod/search Рєњ Serper API (Google Search)
   Рћѓ  РћюРћђ Input validation & security checks
   Рћѓ  РћюРћђ External API call for web results
   Рћѓ  РћћРћђ Immediate response to client
   РћћРћђ /prod/GDCsearch Рєњ OpenSearch (GDC Index)
      РћюРћђ Input validation & security checks
      РћюРћђ AWS OpenSearch query execution
      РћћРћђ Structured entity data response

2. ­ЪћЇ Search Service Рєњ ­ЪњЙ DynamoDB (Search Results)
   РћюРћђ Store raw search data
   РћюРћђ Generate query hash
   РћћРћђ Set TTL for cleanup

3. ­ЪћЇ Search Service Рєњ ­ЪЊб SNS Рєњ ­ЪДа LLM Service (Async)
   РћюРћђ Trigger if enable_llm_processing=true
   РћюРћђ Pass search results for analysis
   РћћРћђ Non-blocking operation

4. ­ЪДа LLM Service Рєњ ­ЪДа Amazon Nova Рєњ ­ЪњЙ DynamoDB (Risk Analysis)
   РћюРћђ Comprehensive risk scoring
   РћюРћђ Multi-dimensional analysis
   РћюРћђ FloatРєњDecimal conversion
   РћћРћђ Store detailed risk assessment

РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
Рћѓ                        ­Ъј» SYSTEM CAPABILITIES                                           Рћѓ
РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

РюЁ DUAL SEARCH CAPABILITIES:
   Рђб Real-time Google search via Serper API (/prod/search)
   Рђб GDC entity search via AWS OpenSearch (/prod/GDCsearch)
   Рђб Configurable result count and pagination
   Рђб Query validation and sanitization
   Рђб Response caching and optimization
   Рђб Structured vs. unstructured data sources

РюЁ RISK ANALYSIS:
   Рђб Financial crimes detection (fraud, money laundering)
   Рђб Corruption screening (bribery, graft)
   Рђб Regulatory compliance checking
   Рђб Reputational risk assessment
   Рђб Confidence scoring (0-100%)

РюЁ TECHNICAL FEATURES:
   Рђб Async processing for performance
   Рђб Auto-scaling Lambda functions
   Рђб Secure secret management
   Рђб Comprehensive error handling
   Рђб CloudWatch monitoring & alerting

РюЁ SECURITY MEASURES:
   Рђб HTTPS/TLS encryption
   Рђб Input validation & sanitization
   Рђб XSS/CSRF protection
   Рђб Rate limiting
   Рђб Secure headers (HSTS, CSP, etc.)

РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
Рћѓ                        ­Ъџђ DEPLOYMENT STATUS                                             Рћѓ
РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

­ЪјЅ SYSTEM STATUS: 100% OPERATIONAL

РюЁ All Lambda functions deployed and working
РюЁ Bedrock permissions configured correctly
РюЁ DynamoDB float handling resolved
РюЁ End-to-end testing completed successfully
РюЁ Security measures implemented and verified
РюЁ Monitoring and logging operational

­ЪЈє READY FOR PRODUCTION USE!

API Endpoint: https://2glcobonoc.execute-api.us-east-1.amazonaws.com/prod/search
Region: us-east-1
Account: 891067072053
```

## ­Ъћё **Dual Endpoint Request/Response Examples**

### **­ЪћЇ Serper API Search (Google):**
```json
POST /prod/search
{
  "query": "Wells Fargo regulatory violations",
  "num_results": 3,
  "enable_llm_processing": true
}
```

### **­ЪћЇ GDC OpenSearch (Entity Index):**
```json
POST /prod/GDCsearch
{
  "query": "Wells Fargo regulatory violations",
  "index": "gdc-entities",
  "size": 10,
  "enable_llm_processing": true,
  "filters": {
    "entity_type": "financial_institution",
    "jurisdiction": "US"
  }
}
```

### **­ЪћЇ Serper Response (Web Results):**
```json
{
  "query": "Wells Fargo regulatory violations",
  "source": "serper_api",
  "results": [
    {
      "title": "Wells Fargo Regulatory Issues",
      "url": "https://example.com/wells-fargo-violations",
      "snippet": "Wells Fargo faces regulatory scrutiny...",
      "position": 1
    }
  ],
  "total_count": 3,
  "timestamp": "2025-10-02T09:46:30.216529",
  "llm_processing_triggered": true,
  "stored_in_database": true
}
```

### **­ЪћЇ GDC OpenSearch Response (Entity Data):**
```json
{
  "query": "Wells Fargo regulatory violations",
  "source": "gdc_opensearch",
  "results": [
    {
      "entity_id": "WFC_US_BANK_001",
      "entity_name": "Wells Fargo & Company",
      "entity_type": "financial_institution",
      "jurisdiction": "US",
      "risk_indicators": ["regulatory_violations", "consumer_complaints"],
      "last_updated": "2025-10-01T12:00:00Z",
      "relevance_score": 0.95
    }
  ],
  "total_hits": 15,
  "timestamp": "2025-10-02T09:46:30.216529",
  "llm_processing_triggered": true,
  "stored_in_database": true
}
```

### **Async LLM Analysis (stored in DynamoDB):**
```json
{
  "overall_risk_score": 75.5,
  "risk_level": "HIGH",
  "financial_crimes_risk": 80.0,
  "corruption_risk": 65.0,
  "regulatory_risk": 85.0,
  "reputational_risk": 70.0,
  "key_findings": ["Regulatory violations", "Settlement history"],
  "confidence_level": 92.5
}
```

---

**­Ъј» This architecture represents a fully functional, production-ready entity screening system with comprehensive risk analysis capabilities!**
