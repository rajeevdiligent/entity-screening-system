# ­ЪЈЌ№ИЈ Entity Screening System - Complete Architecture Flow

## ­Ъј» 100% Functional System Architecture

```
РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
Рћѓ                           ­Ъїљ CLIENT REQUEST FLOW                                        Рћѓ
РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

    ­ЪЊ▒ Client Application
         Рћѓ
         Рћѓ POST /prod/search
         Рћѓ {
         Рћѓ   "query": "Wells Fargo fraud",
         Рћѓ   "num_results": 3,
         Рћѓ   "enable_llm_processing": true
         Рћѓ }
         Рќ╝
    РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
    Рћѓ   ­Ъџф API Gateway    Рћѓ РЌёРћђРћђРћђ HTTPS/TLS Encryption
    Рћѓ  (REST API)         Рћѓ      Security Headers
    Рћѓ                     Рћѓ      Rate Limiting
    РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў
         Рћѓ
         Рћѓ Lambda Proxy Integration
         Рћѓ event['body'] = JSON payload
         Рќ╝

РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
Рћѓ                        ­ЪћЇ SEARCH SERVICE LAYER                                          Рћѓ
РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

    РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
    Рћѓ  ­ЪћЇ Search Service  Рћѓ РЌёРћђРћђРћђ entity-search-service
    Рћѓ    Lambda Function  Рћѓ      Runtime: Python 3.11
    Рћѓ                     Рћѓ      Memory: 256MB, Timeout: 30s
    Рћѓ  РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљРћѓ      Handler: lambda_search_service_secure.lambda_handler
    Рћѓ  Рћѓ Input Validator РћѓРћѓ РЌёРћђРћђРћђ Validates query, num_results
    Рћѓ  РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћўРћѓ      Security checks
    Рћѓ  РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљРћѓ
    Рћѓ  РћѓSecurity Manager РћѓРћѓ РЌёРћђРћђРћђ AWS Secrets Manager integration
    Рћѓ  РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћўРћѓ      API key retrieval
    Рћѓ  РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљРћѓ
    Рћѓ  Рћѓ Serper API Call РћѓРћѓ РЌёРћђРћђРћђ External search via requests library
    Рћѓ  РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћўРћѓ      Google search results
    РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў
         Рћѓ                Рћѓ
         Рћѓ Search Results Рћѓ SNS Message (if LLM enabled)
         Рќ╝                Рќ╝
    РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ    РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
    Рћѓ  ­ЪњЙ DynamoDB        Рћѓ    Рћѓ  ­ЪЊб SNS Topic       Рћѓ
    Рћѓ  Storage            Рћѓ    Рћѓ  (LLM Processing)   Рћѓ
    Рћѓ                     Рћѓ    Рћѓ                     Рћѓ
    Рћѓ search-analysis-    Рћѓ    Рћѓ llm-processing-     Рћѓ
    Рћѓ results table       Рћѓ    Рћѓ requests            Рћѓ
    Рћѓ                     Рћѓ    Рћѓ                     Рћѓ
    Рћѓ РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ Рћѓ    РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў
    Рћѓ Рћѓ Search Results  Рћѓ Рћѓ              Рћѓ
    Рћѓ Рћѓ - query         Рћѓ Рћѓ              Рћѓ Async Trigger
    Рћѓ Рћѓ - results[]     Рћѓ Рћѓ              Рќ╝
    Рћѓ Рћѓ - timestamp     Рћѓ Рћѓ    РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
    Рћѓ Рћѓ - query_hash    Рћѓ Рћѓ    Рћѓ  ­ЪДа LLM Service     Рћѓ
    Рћѓ РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў Рћѓ    Рћѓ    Lambda Function  Рћѓ
    РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў    Рћѓ                     Рћѓ
         Рћѓ                     Рћѓ  Runtime: Python 3.11
         Рћѓ Immediate Response  Рћѓ  Memory: 512MB
         Рќ╝                     Рћѓ  Timeout: 300s
    РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ    Рћѓ                     Рћѓ
    Рћѓ  ­ЪЊц API Response    Рћѓ    Рћѓ РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ Рћѓ
    Рћѓ                     Рћѓ    Рћѓ Рћѓ Amazon Nova LLM Рћѓ Рћѓ РЌёРћђРћђРћђ Bedrock Integration
    Рћѓ {                   Рћѓ    Рћѓ Рћѓ Risk Analysis   Рћѓ Рћѓ      amazon.nova-micro-v1:0
    Рћѓ   "query": "...",   Рћѓ    Рћѓ РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў Рћѓ      Comprehensive risk scoring
    Рћѓ   "results": [...], Рћѓ    Рћѓ РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ Рћѓ
    Рћѓ   "total_count": 3, Рћѓ    Рћѓ Рћѓ Risk Calculator Рћѓ Рћѓ РЌёРћђРћђРћђ Multi-dimensional scoring
    Рћѓ   "llm_processing_  Рћѓ    Рћѓ Рћѓ FloatРєњDecimal   Рћѓ Рћѓ      Financial, Corruption,
    Рћѓ   triggered": true, Рћѓ    Рћѓ РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў Рћѓ      Regulatory, Reputational
    Рћѓ   "stored_in_       Рћѓ    РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў
    Рћѓ   database": true   Рћѓ              Рћѓ
    Рћѓ }                   Рћѓ              Рћѓ Risk Analysis Results
    РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў              Рќ╝
                                РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
                                Рћѓ  ­ЪњЙ DynamoDB        Рћѓ
                                Рћѓ  Risk Storage       Рћѓ
                                Рћѓ                     Рћѓ
                                Рћѓ РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ Рћѓ
                                Рћѓ Рћѓ LLM Analysis    Рћѓ Рћѓ
                                Рћѓ Рћѓ - overall_risk  Рћѓ Рћѓ
                                Рћѓ Рћѓ - risk_level    Рћѓ Рћѓ
                                Рћѓ Рћѓ - financial_    Рћѓ Рћѓ
                                Рћѓ Рћѓ   crimes_risk   Рћѓ Рћѓ
                                Рћѓ Рћѓ - corruption_   Рћѓ Рћѓ
                                Рћѓ Рћѓ   risk          Рћѓ Рћѓ
                                Рћѓ Рћѓ - regulatory_   Рћѓ Рћѓ
                                Рћѓ Рћѓ   risk          Рћѓ Рћѓ
                                Рћѓ Рћѓ - reputational_ Рћѓ Рћѓ
                                Рћѓ Рћѓ   risk          Рћѓ Рћѓ
                                Рћѓ Рћѓ - key_findings  Рћѓ Рћѓ
                                Рћѓ Рћѓ - confidence    Рћѓ Рћѓ
                                Рћѓ РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў Рћѓ
                                РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
Рћѓ                        ­Ъћљ SECURITY & MONITORING LAYER                                   Рћѓ
РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

    РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ    РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ    РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
    Рћѓ  ­Ъћљ AWS Secrets     Рћѓ    Рћѓ  ­ЪЊі CloudWatch      Рћѓ    Рћѓ  ­ЪЏА№ИЈ Security        Рћѓ
    Рћѓ     Manager         Рћѓ    Рћѓ     Monitoring      Рћѓ    Рћѓ    Features         Рћѓ
    Рћѓ                     Рћѓ    Рћѓ                     Рћѓ    Рћѓ                     Рћѓ
    Рћѓ entity-screening/   Рћѓ    Рћѓ РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ Рћѓ    Рћѓ РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ Рћѓ
    Рћѓ serper-api-key      Рћѓ    Рћѓ Рћѓ Lambda Metrics  Рћѓ Рћѓ    Рћѓ Рћѓ Input ValidationРћѓ Рћѓ
    Рћѓ                     Рћѓ    Рћѓ Рћѓ - Duration      Рћѓ Рћѓ    Рћѓ Рћѓ XSS Protection  Рћѓ Рћѓ
    Рћѓ Encrypted storage   Рћѓ    Рћѓ Рћѓ - Memory Usage  Рћѓ Рћѓ    Рћѓ Рћѓ CORS Headers    Рћѓ Рћѓ
    Рћѓ IAM role access     Рћѓ    Рћѓ Рћѓ - Error Rates   Рћѓ Рћѓ    Рћѓ Рћѓ Rate Limiting   Рћѓ Рћѓ
    РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў    Рћѓ РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў Рћѓ    Рћѓ РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў Рћѓ
                               Рћѓ РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ Рћѓ    Рћѓ РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ Рћѓ
                               Рћѓ Рћѓ API Gateway     Рћѓ Рћѓ    Рћѓ Рћѓ Secure Response Рћѓ Рћѓ
                               Рћѓ Рћѓ - Request Count Рћѓ Рћѓ    Рћѓ Рћѓ Error Handling  Рћѓ Рћѓ
                               Рћѓ Рћѓ - Latency       Рћѓ Рћѓ    Рћѓ Рћѓ No Data Leakage Рћѓ Рћѓ
                               Рћѓ Рћѓ - 4xx/5xx ErrorsРћѓ Рћѓ    Рћѓ РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў Рћѓ
                               Рћѓ РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў Рћѓ    РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў
                               РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
Рћѓ                        ­ЪїЇ EXTERNAL INTEGRATIONS                                         Рћѓ
РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

    РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ    РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ    РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
    Рћѓ  ­ЪћЇ Serper API      Рћѓ    Рћѓ  ­ЪДа Amazon Bedrock  Рћѓ    Рћѓ  ­ЪњЙ AWS DynamoDB    Рћѓ
    Рћѓ  (Google Search)    Рћѓ    Рћѓ  (Nova LLM)         Рћѓ    Рћѓ  (Data Storage)     Рћѓ
    Рћѓ                     Рћѓ    Рћѓ                     Рћѓ    Рћѓ                     Рћѓ
    Рћѓ https://google.     Рћѓ    Рћѓ amazon.nova-micro-  Рћѓ    Рћѓ search-analysis-    Рћѓ
    Рћѓ serper.dev/search   Рћѓ    Рћѓ v1:0                Рћѓ    Рћѓ results             Рћѓ
    Рћѓ                     Рћѓ    Рћѓ                     Рћѓ    Рћѓ                     Рћѓ
    Рћѓ Real-time search    Рћѓ    Рћѓ Risk analysis       Рћѓ    Рћѓ NoSQL database      Рћѓ
    Рћѓ 3 results per query Рћѓ    Рћѓ JSON response       Рћѓ    Рћѓ Auto-scaling        Рћѓ
    Рћѓ Snippet extraction  Рћѓ    Рћѓ Multi-dimensional   Рћѓ    Рћѓ TTL: 30 days        Рћѓ
    РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў    Рћѓ scoring             Рћѓ    Рћѓ FloatРєњDecimal       Рћѓ
                               РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў    Рћѓ conversion          Рћѓ
                                                          РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
Рћѓ                        ­ЪЊі DATA FLOW SUMMARY                                             Рћѓ
РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

1. ­ЪЊ▒ Client Рєњ ­Ъџф API Gateway Рєњ ­ЪћЇ Search Service
   РћюРћђ Input validation & security checks
   РћюРћђ Serper API call for search results
   РћћРћђ Immediate response to client

2. ­ЪћЇ Search Service Рєњ ­ЪњЙ DynamoDB (Search Results)
   РћюРћђ Store raw search data
   РћюРћђ Generate query hash
   РћћРћђ Set TTL for cleanup

3. ­ЪћЇ Search Service Рєњ ­ЪЊб SNS Рєњ ­ЪДа LLM Service (Async)
   РћюРћђ Trigger if enable_llm_processing=true
   РћюРћђ Pass search results for analysis
   РћћРћђ Non-blocking operation

4. ­ЪДа LLM Service Рєњ ­ЪДа Amazon Nova Рєњ ­ЪњЙ DynamoDB (Risk Analysis)
   РћюРћђ Comprehensive risk scoring
   РћюРћђ Multi-dimensional analysis
   РћюРћђ FloatРєњDecimal conversion
   РћћРћђ Store detailed risk assessment

РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
Рћѓ                        ­Ъј» SYSTEM CAPABILITIES                                           Рћѓ
РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

РюЁ SEARCH CAPABILITIES:
   Рђб Real-time Google search via Serper API
   Рђб Configurable result count (1-10)
   Рђб Query validation and sanitization
   Рђб Response caching and optimization

РюЁ RISK ANALYSIS:
   Рђб Financial crimes detection (fraud, money laundering)
   Рђб Corruption screening (bribery, graft)
   Рђб Regulatory compliance checking
   Рђб Reputational risk assessment
   Рђб Confidence scoring (0-100%)

РюЁ TECHNICAL FEATURES:
   Рђб Async processing for performance
   Рђб Auto-scaling Lambda functions
   Рђб Secure secret management
   Рђб Comprehensive error handling
   Рђб CloudWatch monitoring & alerting

РюЁ SECURITY MEASURES:
   Рђб HTTPS/TLS encryption
   Рђб Input validation & sanitization
   Рђб XSS/CSRF protection
   Рђб Rate limiting
   Рђб Secure headers (HSTS, CSP, etc.)

РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
Рћѓ                        ­Ъџђ DEPLOYMENT STATUS                                             Рћѓ
РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў

­ЪјЅ SYSTEM STATUS: 100% OPERATIONAL

РюЁ All Lambda functions deployed and working
РюЁ Bedrock permissions configured correctly
РюЁ DynamoDB float handling resolved
РюЁ End-to-end testing completed successfully
РюЁ Security measures implemented and verified
РюЁ Monitoring and logging operational

­ЪЈє READY FOR PRODUCTION USE!

API Endpoint: https://2glcobonoc.execute-api.us-east-1.amazonaws.com/prod/search
Region: us-east-1
Account: 891067072053
```

## ­Ъћё **Request/Response Flow Example**

### **Input Request:**
```json
POST /prod/search
{
  "query": "Wells Fargo regulatory violations",
  "num_results": 3,
  "enable_llm_processing": true
}
```

### **Immediate Response:**
```json
{
  "query": "Wells Fargo regulatory violations",
  "results": [
    {
      "title": "Wells Fargo Regulatory Issues",
      "url": "https://example.com/wells-fargo-violations",
      "snippet": "Wells Fargo faces regulatory scrutiny...",
      "position": 1
    }
  ],
  "total_count": 3,
  "timestamp": "2025-10-02T09:46:30.216529",
  "llm_processing_triggered": true,
  "stored_in_database": true,
  "storage_info": {
    "query_hash": "abc123...",
    "storage_timestamp": "2025-10-02T09:46:30.621299"
  }
}
```

### **Async LLM Analysis (stored in DynamoDB):**
```json
{
  "overall_risk_score": 75.5,
  "risk_level": "HIGH",
  "financial_crimes_risk": 80.0,
  "corruption_risk": 65.0,
  "regulatory_risk": 85.0,
  "reputational_risk": 70.0,
  "key_findings": ["Regulatory violations", "Settlement history"],
  "confidence_level": 92.5
}
```

---

**­Ъј» This architecture represents a fully functional, production-ready entity screening system with comprehensive risk analysis capabilities!**
